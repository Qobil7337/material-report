<h3 style="text-align: center">GoodsInwards</h3>
<div class="container">
  <form [formGroup]="goodsInwardsForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <div class="row">
        <div class="col-2">
          <label>Date:</label>
        </div>
        <div class="col-3">
          <mat-form-field>
            <mat-label>Choose a date</mat-label>
            <input formControlName="date" matInput [matDatepicker]="picker">
            <mat-hint>MM/DD/YYYY</mat-hint>
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="row">
        <div class="col-2">
          <label for="inputSupplier">Supplier:</label>
        </div>
        <div class="col-4">
          <input formControlName="supplier" type="text" class="form-control form-control-sm" id="inputSupplier">
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="row">
        <div class="col-2">
          <label for="inputWarehouse">Warehouse:</label>
        </div>
        <div class="col-4">
          <input formControlName="warehouse" type="text" class="form-control form-control-sm" id="inputWarehouse">
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="row">
        <div class="col-2">
          <label>Nomenclature:</label>
        </div>
        <div class="col-4">
          <nz-select
            [(ngModel)]="selectedNomenclature" [ngModelOptions]="{standalone: true}" name="selectedNomenclature"
            nzPlaceHolder="Select nomenclature"
            nzAllowClear
          >
            <nz-option *ngFor="let nomenclature of nomenclatures" [nzValue]="nomenclature" [nzLabel]="nomenclature.name"></nz-option>
          </nz-select>
        </div>
        <div class="col-4">
          <button type="button" class="btn btn-success btn-sm" (click)="onAddNomenclature()">Add</button>
        </div>
      </div>
    </div>

    <div *ngIf="nomenclatureIsAddedToTable">
      <table class="table">
        <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">ID</th>
          <th scope="col">Name</th>
          <th scope="col">Unit</th>
          <th scope="col">Quantity</th>
          <th scope="col">Price</th>
          <th scope="col">Total sum</th>
        </tr>
        </thead>
        <tbody *ngFor="let selectedNomenclature of selectedNomenclatures; let i = index">
        <tr>
          <th scope="row">{{ i + 1 }}</th>
          <td>{{ selectedNomenclature.id }}</td>
          <td>{{ selectedNomenclature.name }}</td>
          <td class="col-1">
            <select class="form-control form-control-sm">
              <option value="1">kg</option>
              <option value="2">pc</option>
              <option value="3">lt</option>
            </select>
          </td>
          <td class="col-1">
            <input autocomplete="off" class="form-control form-control-sm" [(ngModel)]="quantity[i]" [ngModelOptions]="{standalone: true}" name="quantity" (ngModelChange)="updateTotal(i)">
          </td>
          <td class="col-2">
            <input autocomplete="off" class="form-control form-control-sm" [(ngModel)]="price[i]" [ngModelOptions]="{standalone: true}" name="price" (ngModelChange)="updateTotal(i)">
          </td>
          <td class="col-2">
            <span class="form-control form-control-sm">{{ total[i] }}</span>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
    <button type="submit" class="btn btn-primary btn-sm">Create</button>
  </form>
</div>




